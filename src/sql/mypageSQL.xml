<?xml version="1.0" encoding="UTF-8"?> 
 
<!DOCTYPE sqlMap PUBLIC '-//ibatis.apache.org//DTD Sql Map 2.0//EN' 'http://ibatis.apache.org/dtd/sql-map-2.dtd'>
<sqlMap namespace="mypage">
   <typeAlias alias="dto" type="rose.DTO.MemberInfoDTO"/>
   
  
  
   <select id="userCheck" resultClass="int" parameterClass="dto">
      select count(*) from MEMBER_INFO where id =#id# and pw=#pw#
   </select>  <!-- 로그인시 DB체크 쿼리문 -->


    <select id="mgradename" resultClass="String" parameterClass="java.util.HashMap">
	    select name from mgrade_type where mgrade_id = (
			select mgrade_id from mgrade_history where member_id=#memNum# and year=#nowYear#)	
    </select>
    
    <select id="mgradehistory" resultClass="String" parameterClass="String">
    	select name,year from mgrade_type where mgrade_id =
     		(select mgrade_id from mgrade_history where member_id = #memNum#)
    </select>
    
    
    
        
   
</sqlMap> 